.. tags: Meetings
.. slug: 6-meeting-3-functions-while-loops-events
.. title: Meeting 3 – Functions, While-loops &amp; Events
.. date: 02 February 2013 15:33
.. author: Edward Powell

	<h2>
					<a href="http://raspberrypilot.com/index.php/meetings/6-meeting-3-functions-while-loops-events">
			Meeting 3 – Functions, While-loops &amp; Events</a>
			</h2>





<p>In this meeting we got into extending and organising some of our code with functions defined using the <font size="3" color="#ffc000" face="Courier New">def</font> keyword. We all created a new <font size="3" face="Courier New">Me()</font> function that printed our name and (apparently extensive!) skills.</p>  <p>With functions under our belts we went back to the main game loop in pygame. We learned about the <font color="#ffc000" face="Courier New">while</font> loop and set a game loop calling our own <font face="Courier New">Update()</font> and <font face="Courier New">Draw()</font> functions until the <font face="Courier New">game_running</font> flag was set false.</p>  <p>Then
 we learned how the game window needs to interact with the the operating
 system (either Windows or LDXE on the RPi’s) using messages and events.
 We added a check for OS messages on the pygame event queue and printed 
the different events being sent to our game. </p>  <p><a href="http://www.raspberrypilot.com/images/image_2_668493de44821cf7381ba2e7d05da5c9.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; border-top: 0px; margin-right: auto; border-right: 0px; padding-top: 0px" title="image" alt="image" src="../../../images/old/image_thumb_bddd8b07539806ff60ce1d43e39fe1e4.html" border="0" height="348" width="550"></a></p>  <p>We rigged a test for the<font face="Courier New"> pygame.QUIT</font>
 event, which was received when our game’s frame window close button was
 clicked. We used this to exit our game loop cleanly. The final version 
of this bit of code was:</p>  <p><font face="Courier New"><font color="#ffc000">import</font> pygame, sys</font></p>  <p><font face="Courier New">pygame.init()     <br>screen = pygame.display.set_mode((640, 480))</font></p>  <p><font face="Courier New">game_running = <font color="#ffc000">True</font></font></p>  <p><font face="Courier New"><font color="#ffc000">while</font> game_running:&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <font color="#ffc000">for</font> event <font color="#ffc000">in</font> pygame.event.get():      <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if event.type == pygame.QUIT:      <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; game_running = <font style="background-color: #ffc000"></font></font><font style="style" face="Courier New"><font style="style" color="#ffc000">False</font>      <br></font><font face="Courier New">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#9b00d3">print</font>(pygame.event.event_name(event.type))</font></p>  <p><font face="Courier New">pygame.quit()     <br>sys.exit()</font></p>  <p><font face="Courier New"></font></p>  <p>Jeremy
 and Oliver went on to use this code to test if the mouse was inside or 
outside of a circle they had drawn on the screen. We just got this 
working before the end of the session using Pythagoras’ Theorem to test 
if the mouse X and Y position was within the radius distance of the 
centre of the circle. These are the rudiments of collision detection – 
nice work lads, well done! </p>



